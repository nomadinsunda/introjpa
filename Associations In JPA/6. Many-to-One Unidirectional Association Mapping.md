# ğŸ§­ 1. Many-to-One ë‹¨ë°©í–¥ì´ë€ ë¬´ì—‡ì¸ê°€?

ë¨¼ì € ì •ì˜ë¶€í„° ëª…í™•íˆ í•˜ê² ìŠµë‹ˆë‹¤.

> **Many-to-One ë‹¨ë°©í–¥**
> ì—¬ëŸ¬ ê°œì˜ ì—”í‹°í‹°ê°€ í•˜ë‚˜ì˜ ì—”í‹°í‹°ë¥¼ ì°¸ì¡°í•˜ê³ ,
> ê·¸ ë°˜ëŒ€ ë°©í–¥(One â†’ Many)ì€ ì „í˜€ ëª¨ë¥´ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ë©´:

* ì—¬ëŸ¬ `Product` ë“¤ì€ **í•˜ë‚˜ì˜** `Category`ì— ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* í•˜ì§€ë§Œ `Category` ì…ì¥ì—ì„œëŠ” â€œìì‹ ì—ê²Œ ì†í•œ Productë“¤ ëª©ë¡â€ì„ ì»¬ë ‰ì…˜ìœ¼ë¡œ ë“¤ê³  ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.

ì¦‰, **ì—°ê´€ê´€ê³„ í•„ë“œëŠ” â€œMany ìª½ì—ë§Œ ì¡´ì¬â€**í•©ë‹ˆë‹¤.

```text
ê°ì²´ ëª¨ë¸:   Product  ---->  Category
DB ëª¨ë¸:     PRODUCT.CATEGORY_ID  (FK â†’ CATEGORY.ID)
```

* ì™¸ë˜í‚¤(FK)ëŠ” **í•­ìƒ Nìª½(ë‹¤ ìª½, Product)** ì— ì¡´ì¬
* ì—°ê´€ê´€ê³„ì˜ â€œì£¼ì¸(Owner)â€ë„ **Product ì—”í‹°í‹°**

ì´ êµ¬ì¡°ëŠ” **JPA, ORM, RDBì˜ ì² í•™ì´ ì™„ë²½í•˜ê²Œ ì¼ì¹˜**í•˜ëŠ” ë§¤ìš° ìì—°ìŠ¤ëŸ¬ìš´ ëª¨ë¸ì…ë‹ˆë‹¤. âœ…

---

# ğŸ—ƒï¸ 2. ì˜ˆì‹œ ë„ë©”ì¸: Product â†’ Category (ë‹¨ë°©í–¥ ManyToOne)

## 2.1 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ (MySQL ê¸°ì¤€) ğŸ§±

```sql
CREATE TABLE CATEGORY (
    ID   BIGINT PRIMARY KEY AUTO_INCREMENT,
    NAME VARCHAR(100) NOT NULL
);

CREATE TABLE PRODUCT (
    ID          BIGINT PRIMARY KEY AUTO_INCREMENT,
    NAME        VARCHAR(100) NOT NULL,
    CATEGORY_ID BIGINT NOT NULL,
    CONSTRAINT FK_PRODUCT_CATEGORY
        FOREIGN KEY (CATEGORY_ID) REFERENCES CATEGORY(ID)
);
```

í¬ì¸íŠ¸:

* `PRODUCT.CATEGORY_ID`ê°€ FK
* `CATEGORY`ëŠ” FKë¥¼ ì „í˜€ ëª¨ë¦„ â†’ RDB êµ¬ì¡°ìƒë„ **ManyToOneì´ ìì—°ìŠ¤ëŸ½ë‹¤**ëŠ” ì´ì•¼ê¸°ì…ë‹ˆë‹¤.

---

## 2.2 ì—”í‹°í‹° ë§¤í•‘ ì½”ë“œ ğŸ¯

### `Category.java` (ì°¸ì¡° ë‹¹í•˜ëŠ” ìª½: One)

```java
import jakarta.persistence.*;

@Entity
@Table(name = "CATEGORY")
public class Category {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;

    protected Category() { }  // JPA ê¸°ë³¸ ìƒì„±ì

    public Category(String name) {
        this.name = name;
    }

    // Getter/Setter ìƒëµ ê°€ëŠ¥
    public Long getId() { return id; }
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
}
```

* ì•„ë¬´ ì—°ê´€ê´€ê³„ í•„ë“œê°€ ì—†ìŠµë‹ˆë‹¤.
* ê·¸ëƒ¥ **ìˆœìˆ˜í•œ ì—”í‹°í‹°**ë¡œ ë‚¨ê²¨ë‘¡ë‹ˆë‹¤.

---

### `Product.java` (ì°¸ì¡°í•˜ëŠ” ìª½: Many)

```java
import jakarta.persistence.*;

@Entity
@Table(name = "PRODUCT")
public class Product {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;

    @ManyToOne(fetch = FetchType.LAZY, optional = false)
    @JoinColumn(name = "CATEGORY_ID", nullable = false)
    private Category category;

    protected Product() { }

    public Product(String name, Category category) {
        this.name = name;
        this.category = category;
    }

    public Long getId() { return id; }
    public String getName() { return name; }
    public Category getCategory() { return category; }

    public void setName(String name) { this.name = name; }
    public void setCategory(Category category) { this.category = category; }
}
```

ì—¬ê¸°ì„œ ì¤‘ìš”í•œ í¬ì¸íŠ¸ë“¤ë§Œ ë”°ë¡œ ì°¢ì–´ì„œ ë´…ë‹ˆë‹¤. ğŸ”

---

# ğŸ§¬ 3. ì• ë…¸í…Œì´ì…˜ ì™„ì „ í•´ë¶€

## 3.1 `@ManyToOne` â€“ ë‹¤â†’ì¼ ì—°ê´€ê´€ê³„ ì„ ì–¸

```java
@ManyToOne(fetch = FetchType.LAZY, optional = false)
private Category category;
```

### âœ… ì˜ë¯¸

* **â€œProduct ì…ì¥ì—ì„œ CategoryëŠ” ManyToOne ê´€ê³„ì´ë‹¤â€**
* ì¦‰, *ì—¬ëŸ¬ Productê°€ í•œ Categoryë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤*ëŠ” ì„ ì–¸

### âš ï¸ FetchType ê¸°ë³¸ê°’ ì£¼ì˜

* JPA í‘œì¤€ì—ì„œ `@ManyToOne`ì˜ ê¸°ë³¸ fetch ì „ëµì€ **`EAGER`**ì…ë‹ˆë‹¤.
* í•˜ì§€ë§Œ ì‹¤ë¬´ì—ì„œëŠ” **ê±°ì˜ ë¬´ì¡°ê±´ `LAZY`ë¡œ ëª…ì‹œ**í•©ë‹ˆë‹¤.

```java
@ManyToOne(fetch = FetchType.LAZY)
```

ì´ìœ :

* EAGERëŠ” ìƒê°ë³´ë‹¤ ì‰½ê²Œ **N+1 ë¬¸ì œ+ ì¿¼ë¦¬ í­ë°œ**ì„ ì¼ìœ¼í‚µë‹ˆë‹¤.
* â€œí•„ìš”í•  ë•Œë§Œ Categoryë¥¼ ì¡°íšŒí•˜ê³  ì‹¶ë‹¤â€ â†’ LAZYê°€ ë” í•©ë¦¬ì ì…ë‹ˆë‹¤.

---

## 3.2 `@JoinColumn` â€“ FK ë§¤í•‘ì˜ í•µì‹¬ ğŸ”—

```java
@JoinColumn(name = "CATEGORY_ID", nullable = false)
```

ì˜ë¯¸:

* `PRODUCT` í…Œì´ë¸”ì˜ `CATEGORY_ID` ì»¬ëŸ¼ì´ FKì´ë©°,
* ì´ ì»¬ëŸ¼ì„ í†µí•´ `Category`ì™€ ì¡°ì¸í•œë‹¤.

ì˜µì…˜ë“¤:

* `name`: FK ì»¬ëŸ¼ëª… (default: í•„ë“œëª… + `_ID`)
* `nullable`: DB not null ì œì•½ ì¡°ê±´ ìƒì„± ì—¬ë¶€
* `updatable`, `insertable`: ì½ê¸° ì „ìš© ë§¤í•‘ ì‹œ í™œìš©

ì˜ˆ:

```java
@JoinColumn(name = "CATEGORY_ID", nullable = false, updatable = false)
```

* ì²˜ìŒ INSERT ì‹œì—ë§Œ FK ì„¤ì •
* ì´í›„ í•´ë‹¹ FK ìˆ˜ì • ë¶ˆê°€ (ë¹„ì¦ˆë‹ˆìŠ¤ì ìœ¼ë¡œ Category ë³€ê²½ì´ ì—†ë„ë¡ ê°•ì œí•˜ëŠ” ìš©ë„)

---

## 3.3 `optional = false` â€“ ì—°ê´€ê´€ê³„ í•„ìˆ˜ ì—¬ë¶€

```java
@ManyToOne(optional = false)
```

* â€œProductëŠ” ë°˜ë“œì‹œ Categoryë¥¼ ê°€ì ¸ì•¼ í•œë‹¤â€ëŠ” ì˜ë¯¸
* JPA ìˆ˜ì¤€ì—ì„œ `null`ì´ë©´ ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥
* `nullable = false`ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ **ë„ë©”ì¸ + DB ë ˆë²¨ì—ì„œ ëª¨ë‘ ê°•ì œ**

ë°˜ëŒ€ë¡œ ì„ íƒì  ì—°ê´€ê´€ê³„ë¼ë©´:

```java
@ManyToOne(optional = true)
@JoinColumn(name = "CATEGORY_ID", nullable = true)
private Category category;  // null í—ˆìš©
```

---

# ğŸ§ª 4. ì‹¤ì œ ë™ì‘: persist, flush, SQL ë ˆë²¨ì—ì„œ ë¬´ìŠ¨ ì¼ì´?

ì•„ë˜ ì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ íë¦„ì„ ì¶”ì í•´ ë³´ê² ìŠµë‹ˆë‹¤. ğŸ§µ

```java
em.getTransaction().begin();

Category electronics = new Category("Electronics");
em.persist(electronics);  // 1) ì¹´í…Œê³ ë¦¬ ë¨¼ì € ì €ì¥

Product p1 = new Product("Laptop", electronics);
Product p2 = new Product("Monitor", electronics);
Product p3 = new Product("Keyboard", electronics);

em.persist(p1);
em.persist(p2);
em.persist(p3);

em.getTransaction().commit();
```

### 4.1 ìƒì„±ë˜ëŠ” SQL ìˆœì„œ (ì¼ë°˜ì ì¸ Hibernate ê¸°ì¤€)

1. Category INSERT

```sql
insert into CATEGORY (name) values ('Electronics');
```

2. Product INSERTë“¤ (FK í¬í•¨)

```sql
insert into PRODUCT (name, CATEGORY_ID) values ('Laptop',   1);
insert into PRODUCT (name, CATEGORY_ID) values ('Monitor',  1);
insert into PRODUCT (name, CATEGORY_ID) values ('Keyboard', 1);
```

ğŸ’¡ **í¬ì¸íŠ¸**

* ManyToOneì—ì„œëŠ” **ì¶”ê°€ì ì¸ UPDATEê°€ í•„ìš” ì—†ìŠµë‹ˆë‹¤.**
* `Product`ê°€ FKë¥¼ ì§ì ‘ ì†Œìœ í•˜ê³  ìˆì–´ì„œ INSERT ì‹œì ì— FKë¥¼ ë°”ë¡œ ë„£ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
* ì´ëŠ” ì•„ê¹Œ ë³´ì…¨ë˜ `OneToMany ë‹¨ë°©í–¥`ì—ì„œ ë°œìƒí•˜ë˜ â€œINSERT í›„ UPDATE í­ë°œâ€ê³¼ ê·¹ëª…í•˜ê²Œ ëŒ€ë¹„ë©ë‹ˆë‹¤. âš–ï¸

---

# ğŸ” 5. ì¡°íšŒ ì‹œ ë™ì‘ & ì§€ì—° ë¡œë”©(LAZY) ì²´í—˜

```java
Product product = em.find(Product.class, p1.getId());

System.out.println(product.getName());         // ì—¬ê¸°ê¹Œì§€ëŠ” Category ì¿¼ë¦¬ X
System.out.println(product.getCategory().getName()); // ì´ ì‹œì ì— Category ì¿¼ë¦¬ ë°œìƒ (LAZY)
```

LAZYì¼ ë•Œ ì¿¼ë¦¬ íë¦„:

1. `em.find(Product, id)` â†’ `product`ë§Œ ì¡°íšŒ

   ```sql
   select p.id, p.name, p.category_id
   from PRODUCT p
   where p.id = ?
   ```

2. `product.getCategory().getName()` í˜¸ì¶œ ìˆœê°„ â†’ Category ì¿¼ë¦¬ ì¶”ê°€

   ```sql
   select c.id, c.name
   from CATEGORY c
   where c.id = ?
   ```

ì¦‰, **ì—°ê´€ ì—”í‹°í‹°ì— ì‹¤ì œë¡œ ì ‘ê·¼í•  ë•Œê¹Œì§€ëŠ” DB ì¡°íšŒë¥¼ ë¯¸ë£¬ë‹¤**ëŠ” ê²ƒì´ LAZYì˜ í•µì‹¬ì…ë‹ˆë‹¤. â³

---

# âš ï¸ 6. N+1 ë¬¸ì œì™€ ManyToOne

ManyToOne ìì²´ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ë§¤í•‘ì´ì§€ë§Œ, ì˜ëª» ì‚¬ìš©í•˜ë©´ **N+1 ì¡°íšŒ ë¬¸ì œ**ë¥¼ ì¼ìœ¼í‚µë‹ˆë‹¤.

ì˜ˆì œ:

```java
List<Product> products =
    em.createQuery("select p from Product p", Product.class)
      .getResultList();

for (Product p : products) {
    System.out.println(p.getCategory().getName());
}
```

ì¿¼ë¦¬ íŒ¨í„´:

1. `Product` ì „ì²´ ì¡°íšŒ 1ë²ˆ

   ```sql
   select p.id, p.name, p.category_id
   from PRODUCT p;
   ```

2. ë£¨í”„ ëŒë©´ì„œ `p.getCategory()` ì ‘ê·¼ ì‹œ, Category LAZY ì¡°íšŒ Në²ˆ

   ```sql
   select c.id, c.name from CATEGORY c where c.id = ?; -- Në²ˆ
   ```

â†’ ì´ ì¿¼ë¦¬ ìˆ˜: **1 + N**

---

## 6.1 í•´ê²°ì±… â‘ : Fetch Join ì‚¬ìš© ğŸš€

```java
List<Product> products =
    em.createQuery(
        "select p from Product p join fetch p.category",
        Product.class
    ).getResultList();
```

ìƒì„±ë˜ëŠ” SQL:

```sql
select p.id, p.name, p.category_id,
       c.id, c.name
from PRODUCT p
join CATEGORY c on p.category_id = c.id;
```

ì¥ì :

* Product + Categoryë¥¼ **í•œ ë²ˆì˜ ì¿¼ë¦¬ë¡œ ì „ë¶€ ë¡œë”©**
* N+1 â†’ 1 ì¿¼ë¦¬ë¡œ í•´ê²°

---

## 6.2 í•´ê²°ì±… â‘¡: Batch Size (Hibernate) ğŸ“¦

`application.yml` (Spring Boot ê¸°ì¤€):

```yaml
spring:
  jpa:
    properties:
      hibernate.default_batch_fetch_size: 50
```

* LAZY ë¡œë”©ì´ë”ë¼ë„, Hibernateê°€ ë’¤ì—ì„œ **ë°°ì¹˜ í˜•íƒœë¡œ IN ì¿¼ë¦¬**ë¥¼ ë‚ ë ¤ N+1ì„ ì™„í™”

ì˜ˆ:

```sql
select c.id, c.name
from CATEGORY c
where c.id in (?, ?, ?, ..., ?);
```

---

# ğŸ§± 7. ManyToOne ë‹¨ë°©í–¥ì˜ ì¥ì  ì •ë¦¬

ì™œ ì´ êµ¬ì¡°ê°€ **ì‹¤ë¬´ì—ì„œ ê°€ì¥ ë§ì´ ì“°ì´ëŠ”ê°€?** ğŸ”¥

1. **RDB êµ¬ì¡°ì™€ 1:1 ëŒ€ì‘**

   * FKëŠ” í•­ìƒ ë‹¤(N)ìª½ì— ìˆìœ¼ë¯€ë¡œ ëª¨ë¸ì´ ìì—°ìŠ¤ëŸ½ë‹¤.
2. **SQL ì˜ˆì¸¡ ê°€ëŠ¥ì„±â†‘**

   * INSERT ì‹œì ì— FK ì„¤ì • ê°€ëŠ¥ â†’ UPDATE í•„ìš” ì—†ìŒ.
3. **ì—”í‹°í‹° ì„¤ê³„ ë‹¨ìˆœ**

   * í•œìª½ë§Œ ì—°ê´€ê´€ê³„ í•„ë“œë¥¼ ê°€ì§€ë¯€ë¡œ, ì–‘ë°©í–¥ì—ì„œ ìƒê¸°ëŠ” ë¬´í•œ ë£¨í”„, equals/hashCode ë¬¸ì œ ê°ì†Œ.
4. **ë„ë©”ì¸ ëª¨ë¸ í‘œí˜„ë ¥ ì¶©ë¶„**

   * â€œìƒí’ˆì´ ì–´ë–¤ ì¹´í…Œê³ ë¦¬ì— ì†í•˜ëŠ”ê°€â€ ëŒ€ë¶€ë¶„ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ëŠ” ManyToOneë§Œìœ¼ë¡œë„ ì¶©ë¶„íˆ í‘œí˜„ ê°€ëŠ¥.
5. **ìœ ì§€ë³´ìˆ˜ ìš©ì´**

   * ì—°ê´€ê´€ê³„ ì£¼ì¸ì´ ëª…í™•í•˜ë©°, ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ì ìŠµë‹ˆë‹¤.

---

# ğŸ§  8. equals / hashCode, toString ì£¼ì˜ì 

ManyToOne ë‹¨ë°©í–¥ì´ë¼ë„ **ì‹¤ìˆ˜í•˜ë©´ ì§€ì˜¥ë¬¸ì´ ì—´ë¦½ë‹ˆë‹¤.** ğŸ˜ˆ

### 8.1 toStringì—ì„œ ì—°ê´€ ì—”í‹°í‹° í˜¸ì¶œ ê¸ˆì§€

```java
@Override
public String toString() {
    return "Product{" +
        "id=" + id +
        ", name='" + name + '\'' +
        ", category=" + category +   // ğŸš« ìœ„í—˜
        '}';
}
```

* LAZY í”„ë¡ì‹œ ì´ˆê¸°í™”
* Hibernateê°€ ì•„ì§ ì„¸ì…˜ì´ ì—†ëŠ” ì‹œì ì´ë©´ `LazyInitializationException` í„°ì§

ğŸ‘‰ ì‹¤ë¬´ì—ì„œëŠ” ë³´í†µ:

* toStringì—ì„œ ì—°ê´€ê´€ê³„ëŠ” ë¹¼ê±°ë‚˜
* id ì •ë„ë§Œ ì¶œë ¥
* í˜¹ì€ DTO ë³€í™˜ ì‹œì ì—ì„œë§Œ ì•ˆì „í•˜ê²Œ ì¶œë ¥

---

### 8.2 equals / hashCodeì— ì—°ê´€ ì—”í‹°í‹° ë„£ì§€ ì•Šê¸°

íŠ¹íˆ ì»¬ë ‰ì…˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê°ì²´ì˜ `equals/hashCode`ëŠ”
**PK ê¸°ë°˜**ìœ¼ë¡œ, ì—°ê´€ê´€ê³„ëŠ” ì œì™¸í•˜ëŠ” ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤.

```java
@Override
public boolean equals(Object o) {
    if (this == o) return true;
    if (!(o instanceof Product)) return false;
    Product other = (Product) o;
    return id != null && id.equals(other.id);
}

@Override
public int hashCode() {
    return 31;
}
```

* ì—°ê´€ ì—”í‹°í‹°(Category)ë¥¼ ë„£ìœ¼ë©´, ë¹„êµ ì‹œ ê³„ì† í”„ë¡ì‹œ ì´ˆê¸°í™” + ë¬´í•œ ìˆœí™˜ ìœ„í—˜

---

# ğŸ§© 9. ManyToOne ë‹¨ë°©í–¥ vs ë‹¤ë¥¸ ë§¤í•‘ë“¤ ë¹„êµ

| ë§¤í•‘ ìœ í˜•                         | ì™¸ë˜í‚¤ ìœ„ì¹˜     | ì£¼ì¸   | ì¥ì                   | ë‹¨ì                       |
| ----------------------------- | ---------- | ---- | ------------------- | ----------------------- |
| ManyToOne ë‹¨ë°©í–¥                 | Many ìª½ í…Œì´ë¸” | Many | ìì—°ìŠ¤ëŸ¬ì›€, ì„±ëŠ¥ ì¢‹ìŒ        | ì»¬ë ‰ì…˜ì´ ì—†ëŠ” ë°©í–¥ì—ì„œë§Œ ì¡°íšŒ ê°€ëŠ¥     |
| OneToMany ë‹¨ë°©í–¥ (`@JoinColumn`) | Many ìª½ í…Œì´ë¸” | One  | ì½”ë“œ ì§ê´€ì  (Oneì—ì„œ List) | UPDATE í­ë°œ, ë¹„ì¶”           |
| OneToMany ì–‘ë°©í–¥                 | Many ìª½ í…Œì´ë¸” | Many | ì–‘ë°©í–¥ íƒìƒ‰ ê°€ëŠ¥           | ì—°ê´€ê´€ê³„ ì£¼ì¸ ê´€ë¦¬ í•„ìš”, ë³µì¡       |
| ManyToOneë§Œ ì‚¬ìš© (ì¶”ì²œ íŒ¨í„´)         | Many ìª½ í…Œì´ë¸” | Many | ê°€ì¥ ë‹¨ìˆœ, ì‹¤ë¬´ì—ì„œ ë§ì´ ì‚¬ìš©   | One â†’ Many íƒìƒ‰ ì‹œ JPQL í•„ìš” |

ì‹¤ë¬´ì—ì„œ ì •ë§ ë§ì´ ë‚˜ì˜¤ëŠ” íŒ¨í„´:

> **â€œì—”í‹°í‹° ì„¤ê³„ëŠ” ManyToOneë§Œ ë‘ê³ ,
> OneToMany ì»¬ë ‰ì…˜ì€ ê³¼ê°í•˜ê²Œ ìƒëµí•˜ê³  JPQLë¡œ ì¡°íšŒí•œë‹¤.â€** âœ…

---

# âœ… ì •ë¦¬: ì™œ ManyToOne ë‹¨ë°©í–¥ì´ â€œì •ì„â€ì¸ê°€?

ìš”ì•½í•˜ë©´, ManyToOne ë‹¨ë°©í–¥ì€:

1. **RDB ì„¤ê³„ì™€ ì™„ë²½í•˜ê²Œ ì¼ì¹˜**
2. **ì™¸ë˜í‚¤ë¥¼ ê°€ì§„ ìª½ì´ ì—°ê´€ê´€ê³„ ì£¼ì¸** â†’ SQLì´ ë‹¨ìˆœí•˜ê³  íš¨ìœ¨ì 
3. **INSERT + UPDATE íŒ¨í„´ì´ ê¹”ë”** (ì¶”ê°€ UPDATE ì—†ìŒ)
4. **ë„ë©”ì¸ ëª¨ë¸/DDDì—ì„œë„ ìì—°ìŠ¤ëŸ½ê²Œ Aggregate ê°„ ì°¸ì¡°ë¥¼ í‘œí˜„**
5. **ì–‘ë°©í–¥ì—ì„œ í„°ì§€ëŠ” ê°ì¢… ë¬¸ì œ(ë¬´í•œ ë£¨í”„, equals/hashCode ì§€ì˜¥)ë¥¼ í”¼í•  ìˆ˜ ìˆìŒ**

ê·¸ë˜ì„œ JPA ê³ ìˆ˜ë“¤ì´ ëŠ˜ í•˜ëŠ” ë§ì´ ìˆìŠµë‹ˆë‹¤. ğŸ˜‰

> â€œì—°ê´€ê´€ê³„ ë§¤í•‘ì€ **ì¼ë‹¨ ManyToOne ë‹¨ë°©í–¥ë¶€í„° ì‹œì‘í•´ë¼.**
> ì •ë§ í•„ìš”í•  ë•Œë§Œ ì–‘ë°©í–¥ì„ ì—´ì–´ë¼.â€


