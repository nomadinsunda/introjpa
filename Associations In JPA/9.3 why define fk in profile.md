# 🔍 1. User 생성 시점에는 Profile이 **존재할 필요가 없습니다**

예를 들어보겠습니다.

* 사용자가 회원가입을 한다 → **User row 생성**
* 가입 직후에는 대부분 프로필 없음
  (프로필 사진, bio, SNS 링크 등)
* 사용자가 나중에 마이페이지에서 프로필을 작성함 → **Profile row 생성**

즉, **User는 Profile을 필요로 하지 않습니다.**
따라서 User를 만들 때 `profile_id`가 없다는 것은 **정상적**입니다.

그런데…

---

# 🔥 2. User 테이블에 `profile_id` FK를 두면 반드시 두 가지 선택 중 하나를 해야 합니다

### **① profile_id를 NULL 허용으로 둔다**

→ User가 생성될 때 profile_id 값이 없으므로 NULL이어야 함
→ User 테이블 컬럼이 “NULL 허용 외래 키”가 됨
→ NULL이 난무하는 설계는 지양해야 함

### **② User를 만들 때 Profile도 강제로 생성한다**

→ User 생성 시 Profile도 무조건 만들어야 함
→ 사용자가 프로필을 원하지 않는 경우도 많음
→ 불필요한 빈 레코드가 테이블에 쌓임

두 경우 모두 **실무적으로 깔끔하지 못한 구조**가 됩니다.

---

# 📛 3. 더 큰 문제: User의 책임이 너무 커짐 (응집도 낮아짐)

User가 점점 많은 “상세 정보”들을 갖기 시작하면 어떻게 될까요?

* profile_id
* setting_id
* account_detail_id
* marketing_agreement_id
* privacy_info_id
* … 무한 확장!

User 테이블 = “쓰레기장 테이블”이 됩니다.

반면 Profile이 FK를 가지면?

👉 User 테이블은 오직 User의 핵심 필드만 유지됨
👉 상세 정보는 모두 독립적인 테이블로 확장 가능
👉 유지보수·성능·DB 정규화 관점에서 훨씬 좋음

---

# 🎯 4. 그래서 정답은?

### ❌ “프로필이 없는데 User row 만들면 이상해서”

이건 일부 맞지만 **핵심 이유는 아님**

### ⭕ “User는 프로필을 필수로 요구하지 않는 독립 엔티티이기 때문”

→ User 테이블이 별도의 상세 정보를 소유할 이유가 없음

### ⭕ “User 테이블이 여러 1:1 관계를 갖게 되면 비대해지고 확장성이 떨어지기 때문”

### ⭕ “Profile이 User에 종속되므로 FK를 가지는 주체도 Profile이어야 함”

→ 이게 정규화에도 부합하는 자연스러운 구조

---

# 🧠 한 문장 요약

> **User는 Profile 없이도 완전하게 존재할 수 있지만,
> Profile은 User 없이는 존재할 수 없다.
> 따라서 FK는 Profile이 가지는 것이 맞다.**


