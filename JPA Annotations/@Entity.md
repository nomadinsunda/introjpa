# π§© `@Entity` μ• λ…Έν…μ΄μ… β€“ JPAμ ν•µμ‹¬ ν΄λμ¤ μ •μ

> JPAμ—μ„ κ°€μ¥ κΈ°λ³Έμ΄μ μ¤‘μ”ν• κ°λ…, `@Entity`λ” λ‹¨μν• μ• λ…Έν…μ΄μ…μ΄ μ•„λ‹™λ‹λ‹¤. κ°μ²΄μ™€ ν…μ΄λΈ”μ„ λ§¤ν•‘ν•λ” μ¶λ°μ μ΄λ©°, λ¨λ“  μμ† κ°μ²΄μ μƒλ…μ€ μ—¬κΈ°μ„λ¶€ν„° μ‹μ‘λ©λ‹λ‹¤.

---

## β… `@Entity`λ€?

`@Entity`λ” ν•΄λ‹Ή ν΄λμ¤κ°€ JPAμ—μ„ κ΄€λ¦¬ν•λ” **μμ†(Persistent) κ°μ²΄**μ„μ„ μ„ μ–Έν•©λ‹λ‹¤. μ΄ μ• λ…Έν…μ΄μ…μ΄ λ¶™μ€ ν΄λμ¤λ” **λ°μ΄ν„°λ² μ΄μ¤μ ν• ν…μ΄λΈ”κ³Ό λ§¤ν•‘λλ” ν΄λμ¤**λ΅ μΈμ‹λλ©°, JPAμ `EntityManager` λλ” JPQLμ„ ν†µν•΄ μ΅°μ‘ν•  μ μλ” λ€μƒμΌλ΅ λ“±λ΅λ©λ‹λ‹¤.

```java
@Entity
public class Student {
    ...
}
```

---

## π§  ν•µμ‹¬ κ°λ… μ”μ•½

| ν•­λ©    | μ„¤λ…                                           |
| ----- | -------------------------------------------- |
| μ •μ μ„μΉ | ν΄λμ¤ λ λ²¨                                       |
| κΈ°λ¥    | ν΄λμ¤κ°€ μ—”ν‹°ν‹°μ„μ„ JPAμ— μ•λ¦Ό                           |
| ν•„μ μ΅°κ±΄ | λ””ν΄νΈ μƒμ„±μ μ΅΄μ¬, μ‹λ³„μ ν•„λ“(`@Id`) μ΅΄μ¬                  |
| μ„ νƒ μ†μ„± | `name` β€“ JPQLμ—μ„ μ‚¬μ©ν•  μ—”ν‹°ν‹° μ΄λ¦„ μ§€μ • (λ””ν΄νΈνΈκ°’: ν΄λμ¤λ…)    |
| ν•„λ“ μ΅°κ±΄ | μ—”ν‹°ν‹° ν΄λμ¤λ” final ν΄λμ¤κ°€ μ•„λ‹μ–΄μ•Ό ν•λ©°, ν•„λ“λ„ finalμ΄λ©΄ μ• λ¨ |

---

## π“ μ£Όμ” νΉμ§•

### π”Ή λ…λ¦½μ μΈ μ΅΄μ¬μ„±

`@Entity`κ°€ μ„ μ–Έλ ν΄λμ¤λ” λ°μ΄ν„°λ² μ΄μ¤ ν…μ΄λΈ”μ **ν–‰(row)** μ„ ν‘ν„ν•λ©°, λ…λ¦½μ μΌλ΅ **μΏΌλ¦¬ κ°€λ¥**ν•©λ‹λ‹¤. μ¦‰, λ‹¤λ¥Έ ν΄λμ¤μ— μμ΅΄ν•μ§€ μ•κ³  λ‹¨λ…μΌλ΅ μ΅°ν, μ‚½μ…, μμ •, μ‚­μ κ°€ κ°€λ¥ν•©λ‹λ‹¤.

### π”Ή λ””ν΄νΈ μƒμ„±μ ν•„μ

JPAλ” λ¦¬ν”λ ‰μ…(Reflection)μ„ ν†µν•΄ κ°μ²΄λ¥Ό μƒμ„±ν•λ―€λ΅ **public λλ” protected λ””ν΄νΈνΈ μƒμ„±μ**κ°€ λ°λ“μ‹ μμ–΄μ•Ό ν•©λ‹λ‹¤.

```java
public Student() {} // κΈ°λ³Έ μƒμ„±μ
```

### π”Ή `@Id` ν•„μ

μ—”ν‹°ν‹°λ” λ°λ“μ‹ ν•λ‚ μ΄μƒμ **μ‹λ³„μ ν•„λ“**λ¥Ό κ°€μ Έμ•Ό ν•λ©°, μ΄λ¥Ό `@Id` μ• λ…Έν…μ΄μ…μΌλ΅ μ§€μ •ν•΄μ•Ό ν•©λ‹λ‹¤.

---

## π§Ύ μμ  β€“ `Student` ν΄λμ¤

```java
@Entity
@Table(name = "STUDENT")
public class Student {

    @Id
    @Column(name = "id")
    private int id;

    @Column(name = "firstName")
    private String firstName;

    @Column(name = "lastName")
    private String lastName;

    @Column(name = "marks")
    private int marks;

    // λ””ν΄νΈνΈ μƒμ„±μ
    public Student() {}

    // νλΌλ―Έν„° μƒμ„±μ
    public Student(int id, String firstName, String lastName, int marks) {
        this.id = id;
        this.firstName = firstName;
        this.lastName = lastName;
        this.marks = marks;
    }

    // Getter/Setter μƒλµ
}
```

---

## π”¤ `@Entity(name = "λ³„μΉ­")` μ†μ„± ν™μ©

λ””ν΄νΈνΈλ΅ μ—”ν‹°ν‹° μ΄λ¦„μ€ ν΄λμ¤ μ΄λ¦„(`Student`)μ΄μ§€λ§, `name` μ†μ„±μ„ μ§€μ •ν•λ©΄ JPQLμ—μ„ μ΄ μ΄λ¦„μΌλ΅ μ°Έμ΅°ν•©λ‹λ‹¤.

```java
@Entity(name = "Learner")
public class Student {
    ...
}
```

```java
// JPQL μμ‹
TypedQuery<Student> query = em.createQuery("SELECT l FROM Learner l WHERE l.marks > 80", Student.class);
```

> π« **μ£Όμ:**
>
> * μ΄ `name`μ€ JPQLμ—μ„λ§ μ“°μ…λ‹λ‹¤.
> * SQL ν…μ΄λΈ” μ΄λ¦„μ€ μ—¬μ „ν `@Table(name = "STUDENT")` κΈ°μ¤€μ…λ‹λ‹¤.

---

## β οΈ μ‹¤λ¬΄μ—μ„ μ£Όμν•  μ 

| ν•­λ©                    | μ£Όμ μ‚¬ν•­                                          |
| --------------------- | ---------------------------------------------- |
| final ν΄λμ¤ β           | μ—”ν‹°ν‹° ν΄λμ¤λ” ν”„λ΅μ‹ μƒμ„±μ„ μ„ν•΄ `final`μ΄ μ•„λ‹μ–΄μ•Ό ν•¨            |
| λ³µν•©ν‚¤                   | λ³µν•©ν‚¤λ¥Ό μ‚¬μ©ν•  κ²½μ° `@IdClass` λλ” `@EmbeddedId` ν•„μ”     |
| λ¶λ³€ ν•„λ“ β               | ν•„λ“λ” `private`μ΄μ–΄μ•Ό ν•μ§€λ§, `final`μ€ μ• λ¨ (μμ • ν•„μ”μ„± λ•λ¬Έ) |
| equals/hashCode μ¤λ²„λΌμ΄λ“ | μ‹λ³„μ(`@Id`) κΈ°λ°μΌλ΅ μ¬μ •μν•λ” κ²ƒμ΄ λ°”λμ§ν•¨                  |

---

## π›  μ‹¤λ¬΄ ν™μ© ν

### β” μ—”ν‹°ν‹° μ΄λ¦„ μ»¨λ²¤μ… ν†µμΌ

* ν΄λμ¤λ…κ³Ό ν…μ΄λΈ”λ…, JPQL μ΄λ¦„μ„ νΌλ™ν•μ§€ μ•κΈ° μ„ν•΄ λ…ν™•ν• κ·μΉ™μ„ μ„Έμ°μ„Έμ”.
* μ: `@Entity(name = "StudentEntity")`, `@Table(name = "STUDENT_TBL")`

### β” Serializable κµ¬ν„

* JPA λ…μ„Έλ” `Serializable` κµ¬ν„μ„ μ”κµ¬ν•μ§€ μ•μ§€λ§, λ¶„μ‚° ν™κ²½(μ: Hibernate Second-level Cache)μ—μ„λ” μ μ©ν•©λ‹λ‹¤.

---

## π§© λ§λ¬΄λ¦¬

`@Entity`λ” λ‹¨μν• μ„ μ–Έ μ΄μƒμ μλ―Έλ¥Ό κ°–μµλ‹λ‹¤. κ°μ²΄λ¥Ό λ°μ΄ν„°λ² μ΄μ¤μ™€ μ—°κ²°ν•΄μ£Όλ” **μ¶λ°μ μ΄μ κ³„μ•½**μ…λ‹λ‹¤. μ¬λ°”λ¥΄κ² μ΄ν•΄ν•κ³  μ„¤κ³„ν•λ©΄, μ μ§€λ³΄μμ„±κ³Ό ν™•μ¥μ„±μ„ λ¨λ‘ λ§μ΅±ν•λ” κ°•λ ¥ν• ORM κΈ°λ° μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•  μ μμµλ‹λ‹¤.


